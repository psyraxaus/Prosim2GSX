<UserControl x:Class="Prosim2GSX.UI.EFB.Controls.Aircraft.DoorControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Prosim2GSX.UI.EFB.Controls.Aircraft"
             mc:Ignorable="d" 
             d:DesignHeight="50" d:DesignWidth="100">
    <UserControl.Resources>
        <Storyboard x:Key="OpenDoorAnimation">
            <DoubleAnimation Storyboard.TargetName="DoorPath" 
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                             From="0" To="90" Duration="0:0:0.5">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        <Storyboard x:Key="CloseDoorAnimation">
            <DoubleAnimation Storyboard.TargetName="DoorPath" 
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                             From="90" To="0" Duration="0:0:0.5">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </UserControl.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Door Visualization -->
        <Canvas Grid.Row="0" Width="100" Height="50">
            <!-- Door Frame -->
            <Rectangle x:Name="DoorFrame" 
                       Width="80" Height="40" 
                       Canvas.Left="10" Canvas.Top="5"
                       Stroke="{DynamicResource EFBPrimaryBorderBrush}" 
                       StrokeThickness="2"
                       Fill="{DynamicResource EFBSecondaryBackgroundBrush}"/>
            
            <!-- Door -->
            <Path x:Name="DoorPath" 
                  Data="M 10,5 L 90,5 L 90,45 L 10,45 Z" 
                  Fill="{DynamicResource EFBPrimaryBackgroundBrush}"
                  Stroke="{DynamicResource EFBPrimaryBorderBrush}" 
                  StrokeThickness="2"
                  RenderTransformOrigin="0,0.5">
                <Path.RenderTransform>
                    <RotateTransform Angle="0"/>
                </Path.RenderTransform>
            </Path>
            
            <!-- Door Handle -->
            <Ellipse x:Name="DoorHandle" 
                     Width="6" Height="6" 
                     Canvas.Left="80" Canvas.Top="25"
                     Fill="{DynamicResource EFBAccentBrush}"/>
            
            <!-- Highlight when mouse is over -->
            <Rectangle x:Name="HighlightOverlay" 
                       Width="80" Height="40" 
                       Canvas.Left="10" Canvas.Top="5"
                       Fill="{DynamicResource EFBHighlightBrush}" 
                       Opacity="0"/>
        </Canvas>
        
        <!-- Door Label -->
        <TextBlock Grid.Row="1" 
                   x:Name="DoorLabel" 
                   Text="{Binding DoorName, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                   HorizontalAlignment="Center" 
                   Margin="0,5,0,0"
                   Foreground="{DynamicResource EFBPrimaryTextBrush}"
                   FontSize="12"/>
    </Grid>
</UserControl>
