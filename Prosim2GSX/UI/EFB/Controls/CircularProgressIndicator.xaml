<UserControl x:Class="Prosim2GSX.UI.EFB.Controls.CircularProgressIndicator"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Prosim2GSX.UI.EFB.Controls"
             mc:Ignorable="d" 
             d:DesignHeight="100" d:DesignWidth="100">
    <UserControl.Resources>
        <Style x:Key="ProgressTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="Foreground" Value="{DynamicResource EFBForegroundBrush}" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
    </UserControl.Resources>
    <Grid>
        <Grid.RenderTransform>
            <RotateTransform Angle="-90" />
        </Grid.RenderTransform>
        
        <!-- Background Circle -->
        <Path x:Name="BackgroundArc" 
              Stroke="{DynamicResource EFBSecondaryBrush}" 
              StrokeThickness="8" 
              Fill="Transparent">
            <Path.Data>
                <PathGeometry>
                    <PathFigure x:Name="BackgroundFigure" StartPoint="50,0" IsClosed="False">
                        <ArcSegment x:Name="BackgroundArcSegment" 
                                    Point="50,0" 
                                    Size="50,50" 
                                    IsLargeArc="True" 
                                    SweepDirection="Clockwise" />
                    </PathFigure>
                </PathGeometry>
            </Path.Data>
        </Path>
        
        <!-- Progress Circle -->
        <Path x:Name="ProgressArc" 
              Stroke="{DynamicResource EFBPrimaryBrush}" 
              StrokeThickness="8" 
              Fill="Transparent">
            <Path.Data>
                <PathGeometry>
                    <PathFigure x:Name="ProgressFigure" StartPoint="50,0" IsClosed="False">
                        <ArcSegment x:Name="ProgressArcSegment" 
                                    Point="50,0" 
                                    Size="50,50" 
                                    IsLargeArc="False" 
                                    SweepDirection="Clockwise" />
                    </PathFigure>
                </PathGeometry>
            </Path.Data>
        </Path>
        
        <!-- Progress Text -->
        <Grid RenderTransform="{Binding ElementName=Grid, Path=RenderTransform, Converter={StaticResource InverseRotateTransformConverter}}">
            <TextBlock x:Name="ProgressText" 
                       Style="{StaticResource ProgressTextStyle}" 
                       Text="0%" />
        </Grid>
    </Grid>
</UserControl>
